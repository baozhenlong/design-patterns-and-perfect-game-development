<map version="freeplane 1.12.1">
<!--To view this file, download free mind mapping software Freeplane from https://www.freeplane.org -->
<bookmarks>
    <bookmark nodeId="ID_100776476" name="根节点" opensAsRoot="true"/>
</bookmarks>
<node TEXT="状态模式（State）" FOLDED="false" ID="ID_100776476" CREATED="1601720331676" MODIFIED="1768142142586" LINK="设计模式.mm#ID_388200123" NodeVisibilityConfiguration="SHOW_HIDDEN_NODES" CHILD_NODES_LAYOUT="TOPTOBOTTOM_RIGHT_AUTO"><hook NAME="MapStyle" background="#ecf4f9ff" zoom="1.5">
    <properties show_icon_for_attributes="true" edgeColorConfiguration="#808080ff,#00ddddff,#dddd00ff,#dd0000ff,#00dd00ff,#dd0000ff,#7cddddff,#dddd7cff,#dd7cddff,#7cdd7cff,#dd7c7cff,#7c7cddff" show_tags="UNDER_NODES" show_note_icons="false" associatedTemplateLocation="template:/模板.mm" fit_to_viewport="false" show_icons="BESIDE_NODES" showTagCategories="false"/>
    <tags category_separator="::"/>

<map_styles>
<stylenode LOCALIZED_TEXT="styles.root_node" COLOR="#ffffff" BACKGROUND_COLOR="#ffffff" STYLE="oval" UNIFORM_SHAPE="true" VGAP_QUANTITY="24 pt">
<font NAME="Sarasa Gothic PDF SC Semibold" SIZE="24"/>
<edge STYLE="horizontal" COLOR="#35455b"/>
<stylenode LOCALIZED_TEXT="styles.predefined" POSITION="bottom_or_right" COLOR="#ffffff" BACKGROUND_COLOR="#ffffff" STYLE="bubble" SHAPE_HORIZONTAL_MARGIN="5 pt" SHAPE_VERTICAL_MARGIN="3 pt">
<font NAME="Sarasa Gothic PDF SC Semibold"/>
<edge STYLE="horizontal" COLOR="#35455b"/>
<stylenode LOCALIZED_TEXT="default" ID="ID_748547038" ICON_SIZE="12 pt" FORMAT_AS_HYPERLINK="false" COLOR="#ffffff" BACKGROUND_COLOR="#ffffff" STYLE="bubble" SHAPE_HORIZONTAL_MARGIN="5 pt" SHAPE_VERTICAL_MARGIN="3 pt" NUMBERED="false" FORMAT="STANDARD_FORMAT" TEXT_ALIGN="DEFAULT" MAX_WIDTH="10 cm" MIN_WIDTH="0 cm" VGAP_QUANTITY="2 pt" BORDER_WIDTH_LIKE_EDGE="false" BORDER_WIDTH="1 px" BORDER_COLOR_LIKE_EDGE="true" BORDER_COLOR="#808080" BORDER_DASH_LIKE_EDGE="false" BORDER_DASH="SOLID">
<arrowlink SHAPE="CUBIC_CURVE" COLOR="#000000" WIDTH="2" TRANSPARENCY="200" DASH="" FONT_SIZE="9" FONT_FAMILY="SansSerif" DESTINATION="ID_748547038" STARTARROW="NONE" ENDARROW="DEFAULT"/>
<font NAME="Sarasa Gothic PDF SC Semibold" SIZE="10" BOLD="false" STRIKETHROUGH="false" ITALIC="false"/>
<edge STYLE="horizontal" COLOR="#35455b" WIDTH="1" DASH="SOLID"/>
<richcontent TYPE="DETAILS" CONTENT-TYPE="plain/html"/>
<richcontent TYPE="NOTE" CONTENT-TYPE="plain/html"/>
</stylenode>
<stylenode LOCALIZED_TEXT="defaultstyle.details" COLOR="#ffffff" BACKGROUND_COLOR="#ffffff" STYLE="bubble" SHAPE_HORIZONTAL_MARGIN="5 pt" SHAPE_VERTICAL_MARGIN="3 pt">
<font NAME="Sarasa Gothic PDF SC Semibold"/>
<edge STYLE="horizontal" COLOR="#35455b"/>
</stylenode>
<stylenode LOCALIZED_TEXT="defaultstyle.tags">
<font SIZE="10"/>
</stylenode>
<stylenode LOCALIZED_TEXT="defaultstyle.attributes" COLOR="#ffffff" BACKGROUND_COLOR="#ffffff" STYLE="bubble" SHAPE_HORIZONTAL_MARGIN="5 pt" SHAPE_VERTICAL_MARGIN="3 pt">
<font NAME="Sarasa Gothic PDF SC Semibold" SIZE="9"/>
<edge STYLE="horizontal" COLOR="#35455b"/>
</stylenode>
<stylenode LOCALIZED_TEXT="defaultstyle.note" COLOR="#ffffff" BACKGROUND_COLOR="#ffffff" STYLE="bubble" SHAPE_HORIZONTAL_MARGIN="5 pt" SHAPE_VERTICAL_MARGIN="3 pt" TEXT_ALIGN="LEFT">
<font NAME="Sarasa Gothic PDF SC Semibold"/>
<edge STYLE="horizontal" COLOR="#35455b"/>
</stylenode>
<stylenode LOCALIZED_TEXT="defaultstyle.floating" COLOR="#ffffff" BACKGROUND_COLOR="#ffffff" STYLE="bubble" SHAPE_HORIZONTAL_MARGIN="5 pt" SHAPE_VERTICAL_MARGIN="3 pt">
<font NAME="Sarasa Gothic PDF SC Semibold"/>
<edge STYLE="horizontal" COLOR="#35455b"/>
</stylenode>
<stylenode LOCALIZED_TEXT="defaultstyle.selection" BACKGROUND_COLOR="#4e85f8" BORDER_WIDTH="0 px" BORDER_COLOR_LIKE_EDGE="false" BORDER_COLOR="#4e85f8" BORDER_COLOR_ALPHA="0">
<font NAME="Sarasa Gothic PDF SC Semibold"/>
</stylenode>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.user-defined" POSITION="bottom_or_right" COLOR="#ffffff" BACKGROUND_COLOR="#ffffff" STYLE="bubble" SHAPE_HORIZONTAL_MARGIN="5 pt" SHAPE_VERTICAL_MARGIN="3 pt">
<font NAME="Sarasa Gothic PDF SC Semibold"/>
<edge STYLE="horizontal" COLOR="#35455b"/>
<stylenode LOCALIZED_TEXT="styles.topic" COLOR="#ffffff" BACKGROUND_COLOR="#ffffff" STYLE="bubble" SHAPE_HORIZONTAL_MARGIN="5 pt" SHAPE_VERTICAL_MARGIN="3 pt">
<font NAME="Sarasa Gothic PDF SC Semibold" SIZE="10" BOLD="true"/>
<edge STYLE="horizontal" COLOR="#35455b"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.subtopic" COLOR="#ffffff" BACKGROUND_COLOR="#ffffff" STYLE="bubble" SHAPE_HORIZONTAL_MARGIN="5 pt" SHAPE_VERTICAL_MARGIN="3 pt">
<font NAME="Sarasa Gothic PDF SC Semibold" SIZE="10" BOLD="true"/>
<edge STYLE="horizontal" COLOR="#35455b"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.subsubtopic" COLOR="#ffffff" BACKGROUND_COLOR="#ffffff" STYLE="bubble" SHAPE_HORIZONTAL_MARGIN="5 pt" SHAPE_VERTICAL_MARGIN="3 pt">
<font NAME="Sarasa Gothic PDF SC Semibold" SIZE="10" BOLD="true"/>
<edge STYLE="horizontal" COLOR="#35455b"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.important" COLOR="#ffffff" BACKGROUND_COLOR="#ffffff" STYLE="bubble" SHAPE_HORIZONTAL_MARGIN="5 pt" SHAPE_VERTICAL_MARGIN="3 pt">
<icon BUILTIN="yes"/>
<font NAME="Sarasa Gothic PDF SC Semibold"/>
<edge STYLE="horizontal" COLOR="#35455b"/>
</stylenode>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.AutomaticLayout" POSITION="bottom_or_right" COLOR="#ffffff" BACKGROUND_COLOR="#ffffff" STYLE="bubble" SHAPE_HORIZONTAL_MARGIN="5 pt" SHAPE_VERTICAL_MARGIN="3 pt">
<font NAME="Sarasa Gothic PDF SC Semibold"/>
<edge STYLE="horizontal" COLOR="#35455b"/>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level.root" COLOR="#ffffff" BACKGROUND_COLOR="#35455b" STYLE="bubble" SHAPE_HORIZONTAL_MARGIN="5 pt" SHAPE_VERTICAL_MARGIN="3 pt" BORDER_COLOR_LIKE_EDGE="false" BORDER_COLOR="#808080" BORDER_COLOR_ALPHA="0">
<font NAME="Sarasa Gothic PDF SC Semibold" SIZE="18"/>
<edge STYLE="horizontal" COLOR="#35455b" WIDTH="3" DASH="SOLID"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,1" COLOR="#ffffff" BACKGROUND_COLOR="#84a1c9" STYLE="bubble" SHAPE_HORIZONTAL_MARGIN="5 pt" SHAPE_VERTICAL_MARGIN="3 pt" FORMAT="#" BORDER_WIDTH="1 px" BORDER_COLOR_LIKE_EDGE="false" BORDER_COLOR="#05a8f4" BORDER_COLOR_ALPHA="0">
<font NAME="Sarasa Gothic PDF SC Semibold" SIZE="10"/>
<edge STYLE="horizontal" COLOR="#35455b" WIDTH="2" DASH="SOLID"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,2" COLOR="#000000" BACKGROUND_COLOR="#e6e6e6" STYLE="bubble" SHAPE_HORIZONTAL_MARGIN="5 pt" SHAPE_VERTICAL_MARGIN="3 pt" BORDER_WIDTH="1 px" BORDER_COLOR_LIKE_EDGE="false" BORDER_COLOR="#808080" BORDER_COLOR_ALPHA="0">
<font NAME="Sarasa Gothic PDF SC Semibold" SIZE="10"/>
<edge STYLE="horizontal" COLOR="#35455b" WIDTH="1" DASH="SOLID"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,3" COLOR="#000000" BACKGROUND_COLOR="#e6e6e6" STYLE="bubble" SHAPE_HORIZONTAL_MARGIN="5 pt" SHAPE_VERTICAL_MARGIN="3 pt" BORDER_WIDTH="1 px" BORDER_COLOR_LIKE_EDGE="false" BORDER_COLOR="#808080" BORDER_COLOR_ALPHA="0">
<font NAME="Sarasa Gothic PDF SC Semibold" SIZE="10"/>
<edge STYLE="horizontal" COLOR="#35455b" WIDTH="1" DASH="SOLID"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,4" COLOR="#000000" BACKGROUND_COLOR="#e6e6e6" STYLE="bubble" SHAPE_HORIZONTAL_MARGIN="5 pt" SHAPE_VERTICAL_MARGIN="3 pt" BORDER_WIDTH="1 px" BORDER_COLOR_LIKE_EDGE="false" BORDER_COLOR="#808080" BORDER_COLOR_ALPHA="0">
<font NAME="Sarasa Gothic PDF SC Semibold" SIZE="10"/>
<edge STYLE="horizontal" COLOR="#35455b" WIDTH="1" DASH="SOLID"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,5" COLOR="#000000" BACKGROUND_COLOR="#e6e6e6" STYLE="bubble" SHAPE_HORIZONTAL_MARGIN="5 pt" SHAPE_VERTICAL_MARGIN="3 pt" BORDER_WIDTH="1 px" BORDER_COLOR_LIKE_EDGE="false" BORDER_COLOR="#808080" BORDER_COLOR_ALPHA="0">
<font NAME="Sarasa Gothic PDF SC Semibold" SIZE="10"/>
<edge STYLE="horizontal" COLOR="#35455b" WIDTH="1" DASH="SOLID"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,6" COLOR="#000000" BACKGROUND_COLOR="#e6e6e6" STYLE="bubble" SHAPE_HORIZONTAL_MARGIN="5 pt" SHAPE_VERTICAL_MARGIN="3 pt" BORDER_WIDTH="1 px" BORDER_COLOR_LIKE_EDGE="false" BORDER_COLOR="#808080" BORDER_COLOR_ALPHA="0">
<font NAME="Sarasa Gothic PDF SC Semibold" SIZE="10"/>
<edge STYLE="horizontal" COLOR="#35455b" WIDTH="1" DASH="SOLID"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,7" COLOR="#000000" BACKGROUND_COLOR="#e6e6e6" STYLE="bubble" SHAPE_HORIZONTAL_MARGIN="5 pt" SHAPE_VERTICAL_MARGIN="3 pt" BORDER_WIDTH="1 px" BORDER_COLOR_LIKE_EDGE="false" BORDER_COLOR="#808080" BORDER_COLOR_ALPHA="0">
<font NAME="Sarasa Gothic PDF SC Semibold" SIZE="10"/>
<edge STYLE="horizontal" COLOR="#35455b" WIDTH="1" DASH="SOLID"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,8" COLOR="#000000" BACKGROUND_COLOR="#e6e6e6" STYLE="bubble" SHAPE_HORIZONTAL_MARGIN="5 pt" SHAPE_VERTICAL_MARGIN="3 pt" BORDER_WIDTH="1 px" BORDER_COLOR_LIKE_EDGE="false" BORDER_COLOR="#808080" BORDER_COLOR_ALPHA="0">
<font NAME="Sarasa Gothic PDF SC Semibold" SIZE="10"/>
<edge STYLE="horizontal" COLOR="#35455b" WIDTH="1" DASH="SOLID"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,9" COLOR="#000000" BACKGROUND_COLOR="#e6e6e6" STYLE="bubble" SHAPE_HORIZONTAL_MARGIN="5 pt" SHAPE_VERTICAL_MARGIN="3 pt" BORDER_WIDTH="1 px" BORDER_COLOR_LIKE_EDGE="false" BORDER_COLOR="#808080" BORDER_COLOR_ALPHA="0">
<font NAME="Sarasa Gothic PDF SC Semibold" SIZE="10"/>
<edge STYLE="horizontal" COLOR="#35455b" WIDTH="1" DASH="SOLID"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,10" COLOR="#000000" BACKGROUND_COLOR="#e6e6e6" STYLE="bubble" SHAPE_HORIZONTAL_MARGIN="5 pt" SHAPE_VERTICAL_MARGIN="3 pt" BORDER_WIDTH="1 px" BORDER_COLOR_LIKE_EDGE="false" BORDER_COLOR="#808080" BORDER_COLOR_ALPHA="0">
<font NAME="Sarasa Gothic PDF SC Semibold" SIZE="10"/>
<edge STYLE="horizontal" COLOR="#35455b" WIDTH="1" DASH="SOLID"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,11" COLOR="#000000" BACKGROUND_COLOR="#e6e6e6" STYLE="bubble" SHAPE_HORIZONTAL_MARGIN="5 pt" SHAPE_VERTICAL_MARGIN="3 pt" BORDER_WIDTH="1 px" BORDER_COLOR_LIKE_EDGE="false" BORDER_COLOR="#808080" BORDER_COLOR_ALPHA="0">
<font NAME="Sarasa Gothic PDF SC Semibold" SIZE="10"/>
<edge STYLE="horizontal" COLOR="#35455b" WIDTH="1" DASH="SOLID"/>
</stylenode>
</stylenode>
</stylenode>
</map_styles>
</hook>
<hook NAME="accessories/plugins/AutomaticLayout.properties" VALUE="ALL"/>
<node POSITION="bottom_or_right" ID="ID_1143254720" CREATED="1768142216760" MODIFIED="1768142216760"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <div xmind-vk-rich-text-fragment-id="1768142215891-9923">
      定义
    </div>
  </body>
</html>
</richcontent>
<node ID="ID_850173050" CREATED="1768142229177" MODIFIED="1768142229177"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <div xmind-vk-rich-text-fragment-id="1768142226400-9376">
      让一个对象的行为随着内部状态的改变而变化，而该对象也像是换了类一样
    </div>
  </body>
</html>
</richcontent>
</node>
<node ID="ID_202037995" CREATED="1768142376608" MODIFIED="1768142376608"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <div xmind-vk-rich-text-fragment-id="1768142373816-9325">
      当某个对象状态改变时，虽然它表现的行为会有所变化，但是对于客户端来说，并不会因为这样的变化，而改变对它的操作方法或信息沟通的方式
    </div>
  </body>
</html>
</richcontent>
<node ID="ID_25439445" CREATED="1768142386849" MODIFIED="1768142386849"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <div xmind-vk-rich-text-fragment-id="1768142385946-2664">
      也就是说，这个对象与外界的对应方式不会有任何改变
    </div>
  </body>
</html>
</richcontent>
</node>
<node ID="ID_874184934" CREATED="1768142390143" MODIFIED="1768142390143"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <div xmind-vk-rich-text-fragment-id="1768142388449-5695">
      但是，对象的内部确实是会通过更换状态类对象的方式来进行状态的转换
    </div>
  </body>
</html>
</richcontent>
<node ID="ID_786457743" CREATED="1768142431103" MODIFIED="1768142438339"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <div xmind-vk-rich-text-fragment-id="1768142430411-1473">
      当状态对象更换到另一个类时，对象就会通过新的状态类，表现出它在这个状态下该有的行为
    </div>
  </body>
</html>
</richcontent>
</node>
<node ID="ID_1826322252" CREATED="1768142441685" MODIFIED="1768142441685"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <div xmind-vk-rich-text-fragment-id="1768142440475-3980">
      但这一切只会发生在对象内部，对客户端来说，完全不需要了解这些状态转换的过程及对应的方式
    </div>
  </body>
</html>
</richcontent>
</node>
</node>
</node>
</node>
<node POSITION="bottom_or_right" ID="ID_356422073" CREATED="1768142232513" MODIFIED="1768204176058">
<icon BUILTIN="idea"/>
<richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <div xmind-vk-rich-text-fragment-id="1768142231665-6601">
      举例
    </div>
  </body>
</html>
</richcontent>
<node ID="ID_1485104979" CREATED="1768142242437" MODIFIED="1768142242437"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <div xmind-vk-rich-text-fragment-id="1768142234182-1151">
      当德鲁伊（对象）由人形变化为兽形状态（内部状态改变）时，他所施展的技能（对象的行为）也会有所变化，玩家此时就像是在操作另一个不同的角色（像是换了类）
    </div>
  </body>
</html>
</richcontent>
<node ID="ID_1998331638" CREATED="1768142246663" MODIFIED="1768142246663"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <div xmind-vk-rich-text-fragment-id="1768142245343-9634">
      变化外形的能力可以看成是德鲁伊的一种内部状态的转换
    </div>
  </body>
</html>
</richcontent>
<node ID="ID_1991877765" CREATED="1768142353460" MODIFIED="1768142353460"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <div xmind-vk-rich-text-fragment-id="1768142350008-402">
      通过变化外形的结果，角色表现出另外一种行为模式，而这一切的转化过程都可以由德鲁伊的内部控制功能来完成，玩家不必理解这个转换过程
    </div>
  </body>
</html>
</richcontent>
</node>
<node ID="ID_48740713" CREATED="1768142359443" MODIFIED="1768142359443"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <div xmind-vk-rich-text-fragment-id="1768142357287-4018">
      但无论怎么变化，玩家操作的角色都是德鲁伊，并不会因为他内部状态的转变而有所差异
    </div>
  </body>
</html>
</richcontent>
</node>
</node>
</node>
</node>
<node POSITION="top_or_left" ID="ID_1607810708" CREATED="1768142458968" MODIFIED="1768142458968"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <div xmind-vk-rich-text-fragment-id="1768142457002-2975">
      状态模式的结构图
    </div>
  </body>
</html>
</richcontent>
<node ID="ID_524893989" CREATED="1768142506738" MODIFIED="1768204016790" MAX_WIDTH="20 cm"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <a href="图片/状态模式/状态模式的结构图.png"><img src="图片/状态模式/状态模式的结构图.png" width="761" height="267"/>
</a>  </body>
</html>
</richcontent>
</node>
<node ID="ID_1530033749" CREATED="1768142619641" MODIFIED="1768142619641"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <div xmind-vk-rich-text-fragment-id="1768142618515-6281">
      Context
    </div>
  </body>
</html>
</richcontent>
<node ID="ID_1966832775" CREATED="1768142622935" MODIFIED="1768142622935"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <div xmind-vk-rich-text-fragment-id="1768142622150-1362">
      状态拥有者
    </div>
  </body>
</html>
</richcontent>
<node ID="ID_52666723" CREATED="1768142630877" MODIFIED="1768142630877"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <div xmind-vk-rich-text-fragment-id="1768142629691-1959">
      是一个具有状态属性的类
    </div>
  </body>
</html>
</richcontent>
</node>
<node ID="ID_1894548223" CREATED="1768142637490" MODIFIED="1768142637490"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <div xmind-vk-rich-text-fragment-id="1768142636484-1608">
      可以制定相关的接口，让外界能够得知状态的改变或通过操作让状态改变
    </div>
  </body>
</html>
</richcontent>
</node>
</node>
<node TEXT="举例" ID="ID_872633314" CREATED="1768142655913" MODIFIED="1768204187570">
<icon BUILTIN="idea"/>
<node ID="ID_1364642021" CREATED="1768142665971" MODIFIED="1768142665971"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <div xmind-vk-rich-text-fragment-id="1768142664935-3649">
      有状态属性的类
    </div>
  </body>
</html>
</richcontent>
<node ID="ID_1193918224" CREATED="1768142668507" MODIFIED="1768142668507"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <div xmind-vk-rich-text-fragment-id="1768142667805-1152">
      游戏角色有潜行、攻击、施法等状态
    </div>
  </body>
</html>
</richcontent>
</node>
<node ID="ID_1537985707" CREATED="1768142670360" MODIFIED="1768142670360"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <div xmind-vk-rich-text-fragment-id="1768142669730-5521">
      好友上线、脱机、忙碌等状态
    </div>
  </body>
</html>
</richcontent>
</node>
<node ID="ID_849858818" CREATED="1768142703864" MODIFIED="1768142703864"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <div xmind-vk-rich-text-fragment-id="1768142671733-2896">
      这些类中会有一个 ConcreteState[X] 子类的对象为其成员，用来代表当前的状态
    </div>
  </body>
</html>
</richcontent>
</node>
</node>
</node>
</node>
<node ID="ID_1770083566" CREATED="1768142709426" MODIFIED="1768142709426"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <div xmind-vk-rich-text-fragment-id="1768142707744-9664">
      State
    </div>
  </body>
</html>
</richcontent>
<node ID="ID_1384498987" CREATED="1768142712099" MODIFIED="1768142712099"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <div xmind-vk-rich-text-fragment-id="1768142711351-849">
      状态接口类
    </div>
  </body>
</html>
</richcontent>
<node ID="ID_989264991" CREATED="1768142721000" MODIFIED="1768142721000"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <div xmind-vk-rich-text-fragment-id="1768142713422-9806">
      制定状态的接口，负责规范 Context 在特定状态下要表现的行为
    </div>
  </body>
</html>
</richcontent>
</node>
</node>
</node>
<node ID="ID_1784804649" CREATED="1768142730734" MODIFIED="1768142730734"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <div xmind-vk-rich-text-fragment-id="1768142729476-1382">
      ConcreteState
    </div>
  </body>
</html>
</richcontent>
<node ID="ID_1376703297" CREATED="1768142733470" MODIFIED="1768142733470"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <div xmind-vk-rich-text-fragment-id="1768142732626-8468">
      具体状态类
    </div>
  </body>
</html>
</richcontent>
<node ID="ID_1093649468" CREATED="1768142736025" MODIFIED="1768142736025"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <div xmind-vk-rich-text-fragment-id="1768142735236-463">
      继承自状态接口类
    </div>
  </body>
</html>
</richcontent>
</node>
<node ID="ID_460106196" CREATED="1768142739967" MODIFIED="1768142739967"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <div xmind-vk-rich-text-fragment-id="1768142737475-8829">
      实现状态拥有者在特定状态下该有的行为
    </div>
  </body>
</html>
</richcontent>
</node>
</node>
<node ID="ID_89059690" CREATED="1768142746022" MODIFIED="1768204204897">
<icon BUILTIN="idea"/>
<richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <div xmind-vk-rich-text-fragment-id="1768142744424-94">
      举例
    </div>
  </body>
</html>
</richcontent>
<node ID="ID_1948181800" CREATED="1768142752583" MODIFIED="1768142752583"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <div xmind-vk-rich-text-fragment-id="1768142748423-4189">
      实现角色在潜行状态时该有的行动变缓、3D 模型变半透明、不能被敌方角色察觉等行为
    </div>
  </body>
</html>
</richcontent>
</node>
</node>
</node>
</node>
<node TEXT="范例" POSITION="top_or_left" ID="ID_560683859" CREATED="1768142774645" MODIFIED="1768214284384" LINK="cases/State/">
<icon BUILTIN="idea"/>
<node ID="ID_64373900" CREATED="1768142843750" MODIFIED="1768142843750"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <div xmind-vk-rich-text-fragment-id="1768142841906-3562">
      定义 Context 类
    </div>
  </body>
</html>
</richcontent>
<node ID="ID_80599161" CREATED="1768142867972" MODIFIED="1768142867972"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <div xmind-vk-rich-text-fragment-id="1768142867132-605">
      Context.cs
    </div>
  </body>
</html>
</richcontent>
<node ID="ID_766960818" CREATED="1768142881480" MODIFIED="1768142881480"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <div xmind-vk-rich-text-fragment-id="1768142872997-1156">
      拥有一个 state 属性用来代表当前的状态，外界可以通过 Request 方法，让 Context 类呈现当前状态下的行为
    </div>
  </body>
</html>
</richcontent>
</node>
<node ID="ID_1736584481" CREATED="1768142887927" MODIFIED="1768142887927"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <div xmind-vk-rich-text-fragment-id="1768142882957-1012">
      SetState 方法可以指定 Context 类当前的状态
    </div>
  </body>
</html>
</richcontent>
</node>
</node>
</node>
<node ID="ID_702743026" CREATED="1768142847276" MODIFIED="1768142847276"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <div xmind-vk-rich-text-fragment-id="1768142846248-1216">
      定义 State 类
    </div>
  </body>
</html>
</richcontent>
<node ID="ID_883913868" CREATED="1768142870965" MODIFIED="1768142870965"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <div xmind-vk-rich-text-fragment-id="1768142869797-8006">
      State.cs
    </div>
  </body>
</html>
</richcontent>
<node ID="ID_1908260358" CREATED="1768142894901" MODIFIED="1768142894901"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <div xmind-vk-rich-text-fragment-id="1768142893841-102">
      用来定义每一个状态该有的行为
    </div>
  </body>
</html>
</richcontent>
</node>
<node ID="ID_399881237" CREATED="1768142918750" MODIFIED="1768142918750"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <div xmind-vk-rich-text-fragment-id="1768142917124-8310">
      在产生 State 类对象时，可以传入 Context 类对象，并将其指定给 State 的类成员 context，让 State 类在后续的操作中，可以获取 Context 对象的信息或操作 Context 对象
    </div>
  </body>
</html>
</richcontent>
</node>
<node ID="ID_60105077" CREATED="1768142925414" MODIFIED="1768142925414"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <div xmind-vk-rich-text-fragment-id="1768142920182-9307">
      定义 Handle 抽象方法，让继承的子类可以重新定义该方法，来呈现不同的状态行为
    </div>
  </body>
</html>
</richcontent>
</node>
</node>
</node>
<node ID="ID_144377644" CREATED="1768142849983" MODIFIED="1768142849983"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <div xmind-vk-rich-text-fragment-id="1768142848879-3465">
      定义 3 个状态
    </div>
  </body>
</html>
</richcontent>
<node ID="ID_296964711" CREATED="1768142858892" MODIFIED="1768142858892"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <div xmind-vk-rich-text-fragment-id="1768142857242-9314">
      ConcreteStateA.cs
    </div>
  </body>
</html>
</richcontent>
<node ID="ID_892938477" CREATED="1768204252233" MODIFIED="1768204252233"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <div xmind-vk-rich-text-fragment-id="1768204251361-6714">
      Handle
    </div>
  </body>
</html>
</richcontent>
<node ID="ID_885477868" CREATED="1768204256290" MODIFIED="1768204256290"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <div xmind-vk-rich-text-fragment-id="1768204254415-4401">
      先显示信息，再按照本身状态的行为定义来判断是否要通知 Context 对象转换到另一个状态
    </div>
  </body>
</html>
</richcontent>
</node>
</node>
</node>
<node ID="ID_202880768" CREATED="1768142860852" MODIFIED="1768142860852"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <div xmind-vk-rich-text-fragment-id="1768142860045-3763">
      ConcreteStateB.cs
    </div>
  </body>
</html>
</richcontent>
</node>
<node ID="ID_293134575" CREATED="1768142863050" MODIFIED="1768142863050"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <div xmind-vk-rich-text-fragment-id="1768142862231-5398">
      ConcreteStateC.cs
    </div>
  </body>
</html>
</richcontent>
</node>
</node>
<node ID="ID_216144968" CREATED="1768142853069" MODIFIED="1768142853069"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <div xmind-vk-rich-text-fragment-id="1768142851971-1579">
      测试范例
    </div>
  </body>
</html>
</richcontent>
<node ID="ID_134564322" CREATED="1768142855462" MODIFIED="1768142855462"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <div xmind-vk-rich-text-fragment-id="1768142854468-7699">
      StateTest.cs
    </div>
  </body>
</html>
</richcontent>
</node>
</node>
</node>
<node POSITION="top_or_left" ID="ID_1396456647" CREATED="1768143596616" MODIFIED="1768143596616"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <div xmind-vk-rich-text-fragment-id="1768143593651-9259">
      状态的转换可以由下列两种方式
    </div>
  </body>
</html>
</richcontent>
<node ID="ID_1330222878" CREATED="1768143617951" MODIFIED="1768143617951"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <div xmind-vk-rich-text-fragment-id="1768143617337-9362">
      方式一
    </div>
  </body>
</html>
</richcontent>
<node ID="ID_879300424" CREATED="1768143621588" MODIFIED="1768143621588"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <div xmind-vk-rich-text-fragment-id="1768143619440-5894">
      交由 Context 类本身，按条件在各状态之间转换
    </div>
  </body>
</html>
</richcontent>
</node>
</node>
<node ID="ID_1888648860" CREATED="1768143624848" MODIFIED="1768144596588">
<icon BUILTIN="bookmark"/>
<richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <div xmind-vk-rich-text-fragment-id="1768143624041-9773">
      方式二
    </div>
  </body>
</html>
</richcontent>
<node ID="ID_650230734" CREATED="1768143635009" MODIFIED="1768144898431" MAX_WIDTH="10 cm"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <div xmind-vk-rich-text-fragment-id="1768143626672-9592">
      产生 Context 类对象时，马上指定初始状态给 Context 对象，而在后续执行过程中的状态转换则交由 State 对象负责，Context 对象不再介入
    </div>
  </body>
</html>
</richcontent>
<node ID="ID_1692353015" CREATED="1768144676472" MODIFIED="1768144676472"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <div xmind-vk-rich-text-fragment-id="1768144674678-4492">
      状态对象本身比较清楚在什么条件下，可以让 Context 对象转移到另一个 State 状态
    </div>
  </body>
</html>
</richcontent>
<node ID="ID_931696188" CREATED="1768144870651" MODIFIED="1768144870651"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <div xmind-vk-rich-text-fragment-id="1768144869377-9462">
      所以在每个 ConcreteState 类的程序代码中，可以看到状态转换条件的判断，以及设置哪一个 ConcreteState 对象成为新的状态
    </div>
  </body>
</html>
</richcontent>
</node>
</node>
<node ID="ID_769543281" CREATED="1768144849979" MODIFIED="1768144849979"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <div xmind-vk-rich-text-fragment-id="1768144849201-6602">
      每个 ConcreteState 状态都可以保持自己的属性值，作为状态转换或展现状态行为的依据，不会与其他的 ConcreteState 状态混用，在维护时比较容易理解
    </div>
  </body>
</html>
</richcontent>
</node>
<node ID="ID_1868894281" CREATED="1768144863346" MODIFIED="1768144863346"><richcontent TYPE="NODE">

<html>
  <head>
    
  </head>
  <body>
    <div xmind-vk-rich-text-fragment-id="1768144862448-5998">
      因为判断条件及状态属性都被转换到 ConcreteState 类中，故而可缩减 Context 类的大小
    </div>
  </body>
</html>
</richcontent>
</node>
</node>
</node>
</node>
</node>
</map>
